(this["webpackJsonpmaheers-blog"]=this["webpackJsonpmaheers-blog"]||[]).push([[0],{14:function(e,t,a){e.exports=a(31)},23:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(12),c=a.n(r),o=(a(23),a(6));var u=()=>n.a.createElement("nav",{className:"navbar"},n.a.createElement("h1",null,"MaheersBlog"),n.a.createElement("div",{className:"links"},n.a.createElement(o.b,{to:"/"},"Home"),n.a.createElement(o.b,{to:"/create"},"TechUp"),n.a.createElement(o.b,{to:"/view"},"New Blog")));var m=e=>{let{blogs:t,title:a,handleDelete:l}=e;return n.a.createElement("div",{className:"blog-list"},n.a.createElement("h2",null,a),t.map(e=>n.a.createElement("div",{className:"blog-preview",key:e.id},n.a.createElement(o.b,{to:"/blogs/"+e.id},n.a.createElement("h2",null," ",e.title),n.a.createElement("p",null," Written by ",e.author)))))};var s=e=>{const[t,a]=Object(l.useState)(null),[n,r]=Object(l.useState)(!0),[c,o]=Object(l.useState)(null);return Object(l.useEffect)(()=>{setTimeout(()=>{fetch(e).then(e=>{if(e.ok)return e.json();throw Error("could  not fetch the data for that resource but fuck that")}).then(e=>{a(e),r(!1),o(null)}).catch(e=>{r(!1),o(e.message)})},1e3)},[e]),{data:t,isPending:n,error:c}};var i=()=>{const{data:e,isPending:t,error:a}=s("http://localhost:8000/blogs");return n.a.createElement("div",{className:"home"},n.a.createElement("h2",null,"Home Page"),t&&n.a.createElement("div",null,"loading..."),e&&n.a.createElement(m,{blogs:e,title:"All blogs!"}))},E=a(1);var h=()=>{const[e,t]=Object(l.useState)(""),[a,r]=Object(l.useState)(""),[c,o]=Object(l.useState)("Maheer"),[u,m]=Object(l.useState)(!1),s=Object(E.f)();return n.a.createElement("div",{className:"create"},n.a.createElement("h2",null,"Add a new blog"),n.a.createElement("form",{onSubmit:t=>{t.preventDefault();const l={title:e,body:a,author:c};m(!0),fetch("http://localhost:8000/blogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(()=>{console.log("new blog added"),m(!1),s.push("/")})}},n.a.createElement("label",null,"Log in Data:"),n.a.createElement("input",{type:"text",required:!0,value:e,onChange:e=>t(e.target.value)}),n.a.createElement("label",null,"Blog Body:"),n.a.createElement("textarea",{required:!0,value:a,onChange:e=>r(e.target.value)}),n.a.createElement("label",null," Blog Author"),n.a.createElement("select",{value:c,onChange:e=>o(e.target.value)},n.a.createElement("option",{value:"Maheer"},"Maheer"),n.a.createElement("option",{value:"Mahmud"},"Mahmud")),!u&&n.a.createElement("button",null,"Add Blog"),u&&n.a.createElement("button",{disabled:!0},"Adding Blog..."),n.a.createElement("p",null,e),n.a.createElement("p",null,a),n.a.createElement("p",null,c)))};var d=()=>{const{id:e}=Object(E.g)(),{data:t,error:a,isPending:l}=s("h"+e),r=Object(E.f)();return n.a.createElement("div",{className:"BlogDetails"},l&&n.a.createElement("div",null,"loading ... "),a&&n.a.createElement("div",null," ",a," "),t&&n.a.createElement("article",null,n.a.createElement("h2",null,t.title),n.a.createElement("p",null," Written by ",t.author),n.a.createElement("div",null," ",t.body),n.a.createElement("button",{onClick:()=>{fetch("http://localhost:8000/blogs/"+t.id,{method:"DELETE"}).then(()=>{r.push("/")})}},"delete")))};var b=function(){return n.a.createElement(o.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(u,null),n.a.createElement("div",{className:"content"},n.a.createElement("h1",null,"GIST-UP"),n.a.createElement(E.c,null,n.a.createElement(E.a,{exact:!0,path:"/"},n.a.createElement(i,null)),n.a.createElement(E.a,{path:"/create"},n.a.createElement(h,null)),n.a.createElement(E.a,{path:"/blogs/:id"},n.a.createElement(d,null))))))};c.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(b,null)))}},[[14,1,2]]]);
//# sourceMappingURL=main.2b627f35.chunk.js.map